(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{262:function(a,s,t){"use strict";t.r(s);var n=t(28),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"构建web应用的几种方式（待完善）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#构建web应用的几种方式（待完善）"}},[a._v("#")]),a._v(" 构建web应用的几种方式（待完善）")]),a._v(" "),t("ul",[t("li",[a._v("spa")]),a._v(" "),t("li",[a._v("mpa")]),a._v(" "),t("li",[a._v("mpa + spa")]),a._v(" "),t("li",[a._v("mpa + spa 优化性能")]),a._v(" "),t("li",[a._v("serverless + 微前端")])]),a._v(" "),t("h3",{attrs:{id:"一、spa单页应用-特初级-无手工配置-webpack-工程化阶段；es6-10-ts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、spa单页应用-特初级-无手工配置-webpack-工程化阶段；es6-10-ts"}},[a._v("#")]),a._v(" 一、spa单页应用 特初级(无手工配置 webpack 工程化阶段；es6-10/TS)")]),a._v(" "),t("p",[a._v("应用场景：传统webapp，简单\n实现方式：")]),a._v(" "),t("ul",[t("li",[a._v("vue-cli   : vue+vue-router+ vuex+/vue-rx")]),a._v(" "),t("li",[a._v("react-cli : react + react-router mobx/rudux\n特点：\n一次性加载公共资源，单页面跳转仅刷新局部资源\n弊端：spa单页白屏时间过长\n解析过程："),t("br"),a._v("\nindex.html "),t("div",{attrs:{id:"app"}}),a._v(' 1kb + js操作\n如vue项目的加载过程\n1. network加载vue.js -> vue-router.js -> vues runtime...\n2. webpack包管理机制 -> common.js chunk main.js\n3. new Vue({\nrouter "/index.js"-> async包 index.js\ndata vuex -> index -> data\nview html->虚拟dom\n真实dom插入后用户才能看见页面\n})')])]),a._v(" "),t("h3",{attrs:{id:"二、mpa多页应用-直出-直接渲染"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、mpa多页应用-直出-直接渲染"}},[a._v("#")]),a._v(" 二、mpa多页应用 直出(直接渲染)")]),a._v(" "),t("p",[a._v("应用场景：适用于企业官网\n优势：解决了 SEO + 秒开率(1秒内打开页面的概率) 的问题")]),a._v(" "),t("ol",[t("li",[a._v("seo页面直出(直接渲染)ssr")]),a._v(" "),t("li",[a._v("mpa解决白屏时间过长问题，可见即操作。\n"),t("div",{attrs:{id:"app"}},[a._v("\nmpa->填充 如大小有100kb\n")]),a._v("\nindex.html 100kb会造成用户等待时间过长，解决办法bigpipe 通过buffer数据形态 3kb ->4kb->5kb...\n(mpa不在乎所使用的js框架，jquery也可)\n实现方式：")])]),a._v(" "),t("ul",[t("li",[a._v("现阶段nodejs + 模版(如swing)")]),a._v(" "),t("li",[a._v("原来jsp、php 、java...(jsp php之后启用ajax web2.0时代。 该方式的弊端：ajax接口数据无法被爬虫抓取[google的seo能够识别js获取到的内容；百度不可以]。nodejs+javascript替代了php、java...)")])]),a._v(" "),t("h3",{attrs:{id:"三、mpa-spa"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、mpa-spa"}},[a._v("#")]),a._v(" 三、mpa + spa")]),a._v(" "),t("p",[a._v("所有路由转回到index.html 利用spa假路由退回index.html，通过history-fallback插件实现\nvue-> dist ->node渲染核心index.html 用插件转回\nspa vue-router假路由\nmpa koa-router真路由(对应真实资源)")]),a._v(" "),t("p",[a._v("tips:hash & history 区别")]),a._v(" "),t("ul",[t("li",[a._v("hash #/routea")]),a._v(" "),t("li",[a._v("history /routea\npushstate融合spa&mpa\nhashchange监听路由变化")])]),a._v(" "),t("p",[a._v("node核心作用：")]),a._v(" "),t("ol",[t("li",[a._v("直出")]),a._v(" "),t("li",[a._v("proxy代理削减json")])]),a._v(" "),t("p",[a._v("存在问题：")]),a._v(" "),t("ul",[t("li",[a._v("落地页性能弱")])]),a._v(" "),t("h3",{attrs:{id:"四、mpa-spa混合应用-性能优化-终级解决方案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#四、mpa-spa混合应用-性能优化-终级解决方案"}},[a._v("#")]),a._v(" 四、mpa + spa混合应用(性能优化) 终级解决方案")]),a._v(" "),t("p",[a._v("直接刷新用node\n站内切页用spa")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("header "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),a._v(" xmlHttpRequest"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//站内的切页 webpack")]),a._v("\n    ctx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("body "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        html"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        js"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//输出进去")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("else")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//bigpie 整个页面全部bigpipe chunk的输出")]),a._v("\n    ctx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("render")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"index"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("pipe")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[a._v("通过nodejs使落地页直出，单页")]),a._v(" "),t("ul",[t("li",[a._v("diy方式：nodejs --header标记区分站内切页和落地页\n"),t("ul",[t("li",[a._v("落地页直出")]),a._v(" "),t("li",[a._v("切走单页")])])])]),a._v(" "),t("p",[a._v("koa2-connect-history-api-fallback (nginx也可实现这种效果)")]),a._v(" "),t("ul",[t("li",[a._v("react ssr/vue ssr 同构 (存在问题：next nuxt开发成本学习曲线)")])]),a._v(" "),t("p",[a._v("提升性能：bigpipe chunk输出")]),a._v(" "),t("p",[a._v("存在的问题：")]),a._v(" "),t("ul",[t("li",[a._v("node(next nuxt开发成本学习曲线)")]),a._v(" "),t("li",[a._v("前后端资源协调")]),a._v(" "),t("li",[a._v("上线部署")]),a._v(" "),t("li",[a._v("稳定性")]),a._v(" "),t("li",[a._v("机器扩容")])]),a._v(" "),t("h3",{attrs:{id:"五、serverless-微前端-终极解决方案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#五、serverless-微前端-终极解决方案"}},[a._v("#")]),a._v(" 五、serverless + 微前端 终极解决方案")]),a._v(" "),t("ul",[t("li",[a._v("继承了mpa + spa混合应用优秀特性")]),a._v(" "),t("li",[a._v("自动部署")]),a._v(" "),t("li",[a._v("扩容")])])])}),[],!1,null,null,null);s.default=e.exports}}]);